<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QB Mechanic Pro</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/creator/creator.css">
    <link rel="stylesheet" href="css/tuneshop/tuneshop.css">
    <link rel="stylesheet" href="css/tablet/tablet.css">
    <link rel="stylesheet" href="css/tablet/orders.css">
    <link rel="stylesheet" href="css/install-progress.css">
    <link rel="stylesheet" href="css/radial/radial.css">
    <link rel="stylesheet" href="css/carlift/carlift.css">
    <link rel="stylesheet" href="css/engines/engines.css">

    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    
    <style>
        /* Reset y configuración base */
        body {
            background: transparent;
            overflow: hidden;
            margin: 0;
            padding: 0;
            width: 100vw;
            height: 100vh;
            user-select: none;
        }

        [v-cloak] { display: none; }

        /* Contenedor Principal Vue */
        #app {
            position: absolute;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none; /* Permite clicks en el juego cuando no hay UI */
        }

        /* CONFIGURACIÓN MAESTRA DE CENTRADO 
           Aplica a todos los wrappers de UI principales
        */
        #creator-ui, 
        #tuneshop-ui, 
        #tablet-ui, 
        #install-progress-ui {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            display: flex;           /* Flexbox Mágico */
            align-items: center;     /* Centrado Vertical */
            justify-content: center; /* Centrado Horizontal */
            z-index: 1000;
            pointer-events: auto;    /* Reactivar clicks */
            background: rgba(0,0,0,0.5); /* Fondo oscuro */
        }

        /* Asegurar que las tarjetas internas no tengan márgenes extraños */
        .creator-container,
        .tablet-container,
        .tuneshop-container {
            position: relative !important;
            top: auto !important;
            left: auto !important;
            transform: none !important; /* Elimina transforms antiguos que desalinean */
            margin: auto !important;
            max-width: 95vw;
            max-height: 95vh;
        }

        /* Animaciones Vue */
        .fade-enter-active, .fade-leave-active { transition: opacity 0.3s; }
        .fade-enter, .fade-leave-to { opacity: 0; }
        
        .slide-up-enter-active, .slide-up-leave-active { transition: all 0.3s; }
        .slide-up-enter, .slide-up-leave-to { transform: translateY(20px); opacity: 0; }
    </style>
</head>
<body>

<div id="app" v-cloak>

    <transition name="fade">
        <div id="creator-ui" v-if="currentUI === 'creator'" v-show="!isSelectingLocation" class="active">
            <div class="ui-overlay"></div>
            <div class="creator-container active">
                <aside class="creator-sidebar">
                    <div class="creator-logo">
                        <i class="fas fa-wrench fa-3x" style="color: #00a3ff;"></i>
                        <h4 class="mt-2 text-white">MECHANIC <span style="color:#00a3ff">CREATOR</span></h4>
                    </div>
                    <div class="creator-nav">
                        <div class="nav-item" :class="{active: creatorView === 'manage'}" @click="creatorView = 'manage'">
                            <i class="fas fa-list"></i> <span>Gestión</span>
                        </div>
                        <div class="nav-item" :class="{active: creatorView === 'create'}" @click="initCreateShop">
                            <i class="fas fa-plus"></i> <span>Crear Nuevo</span>
                        </div>
                    </div>
                    <div class="mt-auto">
                        <button class="btn btn-secondary w-100" @click="closeUI">Cerrar</button>
                    </div>
                </aside>

                <main class="creator-main">
                    <div v-if="creatorView === 'manage'" class="creator-content">
                        <div class="creator-header">
                            <h2>Talleres Activos</h2>
                            <div class="creator-actions">
                                <button class="btn-creator" @click="post('requestShops')"><i class="fas fa-sync"></i> Refrescar</button>
                            </div>
                        </div>
                        
                        <div v-if="shops.length === 0" class="empty-state" style="text-align:center; padding:50px; color:rgba(255,255,255,0.5)">
                            <i class="fas fa-store-slash fa-4x mb-3"></i>
                            <h3>No hay talleres configurados</h3>
                        </div>

                        <div class="statistics-grid mt-4">
                            <div v-for="shop in shops" :key="shop.id" class="stat-card" style="display:flex; justify-content:space-between; align-items:center; text-align:left;">
                                <div>
                                    <div class="stat-value" style="font-size: 1.4rem;">{{ shop.shop_name }}</div>
                                    <div class="stat-label">
                                        <span class="badge" :class="shop.ownership_type === 'job' ? 'badge-primary' : 'badge-success'">
                                            {{ shop.ownership_type === 'job' ? shop.job_name : 'Público' }}
                                        </span>
                                        <small class="ms-2 text-secondary">{{ shop.id }}</small>
                                    </div>
                                </div>
                                <div class="action-buttons">
                                    <button class="btn-square" @click="editShop(shop)" title="Editar"><i class="fas fa-edit"></i></button>
                                    <button class="btn-square" @click="post('teleportToShop', {shopId: shop.id})" title="TP"><i class="fas fa-map-marker-alt"></i></button>
                                    <button class="btn-square btn-delete" @click="deleteShop(shop.id)" title="Eliminar"><i class="fas fa-trash"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div v-if="creatorView === 'create'" class="creator-content">
                        <div class="creator-header">
                            <h2>{{ isEditing ? 'Editar Taller' : 'Nuevo Taller' }}</h2>
                        </div>
                        
                        <div class="form-body mt-4">
                            <div class="form-section">
                                <h3 class="form-section-header">Información General</h3>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>ID Único</label>
                                        <input type="text" v-model="shopForm.id" :disabled="isEditing" class="form-input" placeholder="ej: bennys_central">
                                    </div>
                                    <div class="form-group">
                                        <label>Nombre Visible</label>
                                        <input type="text" v-model="shopForm.shop_name" class="form-input" placeholder="ej: Benny's Original">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Tipo de Propiedad</label>
                                    <select v-model="shopForm.ownership_type" class="form-select">
                                        <option value="public">Público (Acceso libre)</option>
                                        <option value="job">Restringido (Requiere Job)</option>
                                    </select>
                                </div>
                                <div v-if="shopForm.ownership_type === 'job'" class="form-row">
                                    <div class="form-group">
                                        <label>Nombre del Job (Lua)</label>
                                        <input type="text" v-model="shopForm.job_name" class="form-input" placeholder="mechanic">
                                    </div>
                                    <div class="form-group">
                                        <label>Grado Jefe</label>
                                        <input type="number" v-model.number="shopForm.boss_grade" class="form-input">
                                    </div>
                                </div>
                            </div>

                            <div class="form-section">
                                <h3 class="form-section-header">Puntos de Coordenada</h3>
                                <div class="location-list">
                                    <div v-for="(label, key) in locationLabels" :key="key" class="placement-info mb-2">
                                        <i class="fas fa-map-pin"></i> <span>{{ label }}</span>
                                        <span class="ms-auto text-sm" :class="shopForm.config_data.locations[key] ? 'text-success' : 'text-danger'">
                                            {{ shopForm.config_data.locations[key] ? 'Configurado' : 'No establecido' }}
                                        </span>
                                        <button class="btn-sm btn-primary ms-3" @click="setShopLocation(key)">
                                            <i class="fas fa-crosshairs"></i> Marcar
                                        </button>
                                        <button v-if="shopForm.config_data.locations[key]" class="btn-sm btn-danger ms-1" @click="shopForm.config_data.locations[key] = null">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="form-section">
                                <h3 class="form-section-header">Características & Blip</h3>
                                <div class="features-grid" style="display:grid; grid-template-columns:1fr 1fr; gap:15px;">
                                    <div class="switch-container">
                                        <span>Taller Tuning</span>
                                        <label class="switch"><input type="checkbox" v-model="shopForm.config_data.features.enable_tuneshop"><span class="slider"></span></label>
                                    </div>
                                    <div class="switch-container">
                                        <span>Elevadores</span>
                                        <label class="switch"><input type="checkbox" v-model="shopForm.config_data.features.enable_carlift"><span class="slider"></span></label>
                                    </div>
                                    <div class="switch-container">
                                        <span>Almacén (Stash)</span>
                                        <label class="switch"><input type="checkbox" v-model="shopForm.config_data.features.enable_stash"><span class="slider"></span></label>
                                    </div>
                                    <div class="switch-container">
                                        <span>Swap Motores</span>
                                        <label class="switch"><input type="checkbox" v-model="shopForm.config_data.features.enable_engine_swap"><span class="slider"></span></label>
                                    </div>
                                </div>
                                <div class="form-row mt-3">
                                    <div class="form-group">
                                        <label>Blip Sprite</label>
                                        <input type="number" v-model.number="shopForm.config_data.blip.sprite" class="form-input">
                                    </div>
                                    <div class="form-group">
                                        <label>Blip Color</label>
                                        <input type="number" v-model.number="shopForm.config_data.blip.color" class="form-input">
                                    </div>
                                </div>
                            </div>

                            <div class="form-actions mt-4" style="display:flex; justify-content:flex-end; gap:15px;">
                                <button class="btn-secondary" @click="creatorView = 'manage'">Cancelar</button>
                                <button class="btn-creator" @click="saveShop">
                                    <i class="fas fa-save me-2"></i> Guardar Taller
                                </button>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>
    </transition>

    <transition name="slide-left">
        <div id="tuneshop-ui" v-if="currentUI === 'tuneshop'" class="show">
            <div class="tuneshop-header">
                <div class="header-navigation">
                    <div class="breadcrumb">
                        <i class="fas fa-car me-2"></i> {{ vehicleData.model }} <small>({{ vehicleData.plate }})</small>
                    </div>
                </div>
                <div class="header-cart">
                    <div class="cart-button" :class="{active: showCart}" @click="showCart = !showCart">
                        <i class="fas fa-shopping-cart"></i>
                        <div class="cart-count" v-if="cart.length > 0" style="display:flex">{{ cart.length }}</div>
                    </div>
                    <div class="back-button" @click="closeUI"><i class="fas fa-times"></i></div>
                </div>
            </div>

            <div class="tuneshop-grid-container" v-if="!showCart">
                <div class="search-bar mb-2" style="padding:0 5px;">
                    <input type="text" v-model="searchQuery" class="input" placeholder="Buscar pieza..." style="background:rgba(0,0,0,0.5); color:white; width:100%;">
                </div>

                <div v-if="!currentCategory" class="tuneshop-grid">
                    <div v-for="cat in tuneCategories" :key="cat.id" class="grid-item" @click="currentCategory = cat.id">
                        <img :src="'assets/carparts/category/' + cat.icon" class="category-image">
                        <div class="category-name">{{ cat.label }}</div>
                    </div>
                </div>

                <div v-else class="tuneshop-grid">
                    <div class="grid-item" style="background: var(--danger-gradient); border-color: #ff4d4d;" @click="currentCategory = null">
                        <i class="fas fa-arrow-left fa-2x text-white"></i>
                        <div class="category-name mt-2">Atrás</div>
                    </div>
                    
                    <div v-for="mod in filteredMods" :key="mod.id" 
                         class="grid-item"
                         :class="{'installed-mod': isModInstalled(mod), 'selected': isInCart(mod)}"
                         @click="addToCart(mod)">
                        
                        <div class="price-indicator">{{ formatMoney(mod.price) }}</div>
                        <div v-if="isModInstalled(mod)" class="installed-indicator"></div>
                        <div v-if="isInCart(mod)" class="current-indicator"></div>
                        
                        <img :src="getModImage(mod)" class="category-image" onerror="this.src='assets/carparts/performance.png'">
                        <div class="category-name">{{ mod.label }}</div>
                        <div v-if="mod.maxLevel" class="mod-description" style="font-size:10px; opacity:0.7">Nivel {{ mod.level }} / {{ mod.maxLevel }}</div>
                    </div>
                </div>
            </div>

            <div v-else class="purchase-interface">
                <div class="cart-info">
                    <div class="total-price">{{ formatMoney(cartTotal) }}</div>
                    <div class="cart-item-count">{{ cart.length }} Modificaciones</div>
                </div>
                
                <div class="tuneshop-grid" style="grid-template-columns: repeat(3, 1fr); max-height: 300px; overflow-y:auto;">
                    <div v-if="cart.length === 0" style="grid-column: span 3; text-align: center; color: #aaa; padding: 20px;">
                        Carrito Vacío
                    </div>
                    <div v-else v-for="item in cart" :key="item.id" class="grid-item" data-type="cart-item">
                        <div class="delete-overlay" @click.stop="removeFromCart(item)"><i class="fas fa-trash"></i></div>
                        <div class="category-name">{{ item.label }}</div>
                        <div class="mod-description">{{ formatMoney(item.price) }}</div>
                    </div>
                </div>

                <div class="confirmation-buttons mt-3">
                    <button class="confirm-button" @click="checkout" :disabled="cart.length === 0">
                        <i class="fas fa-check me-1"></i> Confirmar Pedido
                    </button>
                    <button class="cancel-button" @click="showCart = false">Seguir Comprando</button>
                </div>
            </div>
        </div>
    </transition>

    <transition name="fade">
        <div id="tablet-ui" v-if="currentUI === 'tablet'" class="visible">
            <div class="tablet-container visible">
                <div class="tablet-screen"> <header class="tablet-header">
                        <div class="tablet-logo">
                            <i class="fas fa-tablet-alt me-2"></i>
                            <h2>{{ shopData.shop_name }}</h2>
                        </div>
                        <button class="btn-close-tablet" @click="closeUI"><i class="fas fa-power-off"></i></button>
                    </header>

                    <nav class="tablet-nav">
                        <button class="tablet-nav-btn" :class="{active: tabletSection === 'dashboard'}" @click="tabletSection = 'dashboard'">
                            <i class="fas fa-chart-pie"></i> <span>Resumen</span>
                        </button>
                        <button class="tablet-nav-btn" :class="{active: tabletSection === 'orders'}" @click="tabletSection = 'orders'">
                            <i class="fas fa-clipboard-list"></i> <span>Órdenes</span>
                            <span class="badge bg-danger ms-2" v-if="pendingOrdersCount > 0">{{ pendingOrdersCount }}</span>
                        </button>
                        <button class="tablet-nav-btn" :class="{active: tabletSection === 'employees'}" @click="tabletSection = 'employees'">
                            <i class="fas fa-users"></i> <span>Empleados</span>
                        </button>
                        <button class="tablet-nav-btn" :class="{active: tabletSection === 'dyno'}" @click="tabletSection = 'dyno'">
                            <i class="fas fa-tachometer-alt"></i> <span>Dyno</span>
                        </button>
                    </nav>

                    <main class="tablet-content" style="padding: 20px; overflow-y: auto; height: calc(100% - 120px);">
                        
                        <div v-if="tabletSection === 'dashboard'" class="dashboard-grid">
                            <div class="stats-cards" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
                                <div class="stat-card">
                                    <div class="stat-icon" style="background: linear-gradient(135deg, #667eea, #764ba2);"><i class="fas fa-clipboard-check"></i></div>
                                    <div class="stat-info">
                                        <div class="stat-value">{{ shopData.stats.totalOrders || 0 }}</div>
                                        <div class="stat-label">Órdenes Totales</div>
                                    </div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-icon" style="background: linear-gradient(135deg, #10b981, #22c55e);"><i class="fas fa-dollar-sign"></i></div>
                                    <div class="stat-info">
                                        <div class="stat-value">{{ formatMoney(shopData.stats.totalRevenue || 0) }}</div>
                                        <div class="stat-label">Ingresos</div>
                                    </div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-icon" style="background: linear-gradient(135deg, #f59e0b, #ef4444);"><i class="fas fa-users"></i></div>
                                    <div class="stat-info">
                                        <div class="stat-value">{{ shopData.employees.length || 0 }}</div>
                                        <div class="stat-label">Personal</div>
                                    </div>
                                </div>
                            </div>
                            
                            <h3 class="section-title mt-4"><i class="fas fa-history me-2"></i> Historial Reciente</h3>
                            <div class="orders-list">
                                <div v-if="!shopData.orders.length" class="empty-state"><p>No hay actividad reciente.</p></div>
                                <div v-for="order in recentOrders" :key="order.id" class="order-item" style="padding: 10px; border-bottom: 1px solid rgba(255,255,255,0.1);">
                                    <div class="order-info">
                                        <div class="order-customer text-white"><i class="fas fa-user me-2"></i>{{ order.customer_name }}</div>
                                        <div class="order-vehicle text-secondary"><small>{{ order.vehicle_model }} | {{ order.vehicle_plate }}</small></div>
                                    </div>
                                    <div class="order-meta text-end">
                                        <div :class="'status-' + order.status">{{ order.status }}</div>
                                        <div class="text-success">{{ formatMoney(order.total_cost) }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div v-if="tabletSection === 'orders'">
                            <h3 class="section-title mb-3">Órdenes Pendientes</h3>
                            <div v-if="pendingOrders.length === 0" class="orders-empty">
                                <i class="fas fa-check-circle empty-icon"></i>
                                <p class="empty-title">Todo al día</p>
                                <p class="empty-description">No hay vehículos esperando instalación.</p>
                            </div>
                            <div v-else class="orders-grid" style="display: grid; gap: 15px;">
                                <div v-for="order in pendingOrders" :key="order.id" class="order-card">
                                    <div class="order-icon"><i class="fas fa-car"></i></div>
                                    <div class="order-content">
                                        <div class="order-title">Orden #{{ order.id }} - {{ order.vehicle_model }}</div>
                                        <div class="order-subtitle">Cliente: {{ order.customer_name }} | Placa: {{ order.vehicle_plate }}</div>
                                        <div class="order-meta">
                                            <span><i class="fas fa-clock"></i> {{ formatDate(order.created_at) }}</span>
                                            <span class="ms-3"><i class="fas fa-coins"></i> {{ formatMoney(order.total_cost) }}</span>
                                        </div>
                                    </div>
                                    <button class="btn-install" @click="installOrder(order)">
                                        <i class="fas fa-tools me-2"></i> INSTALAR
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div v-if="tabletSection === 'employees'">
                            <div class="employees-header">
                                <h3>Personal</h3>
                                <button class="btn-primary" @click="hireEmployee"><i class="fas fa-user-plus me-2"></i> Contratar</button>
                            </div>
                            <div class="employees-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 15px;">
                                <div v-for="emp in shopData.employees" :key="emp.citizenid" class="employee-card">
                                    <div class="employee-main">
                                        <div class="employee-avatar">{{ emp.employee_name.charAt(0) }}</div>
                                        <div class="employee-info">
                                            <div class="employee-name">{{ emp.employee_name }}</div>
                                            <div class="employee-role">Rango: {{ emp.job_grade }}</div>
                                        </div>
                                        <button class="btn-icon danger" @click="fireEmployee(emp)" title="Despedir"><i class="fas fa-user-times"></i></button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div v-if="tabletSection === 'dyno'" class="dyno-screen">
                            <div class="screen-header mb-3">
                                <div class="screen-title">
                                    <span>Resultados del Banco</span>
                                    <span class="vehicle-tag ms-2 badge badge-primary" v-if="shopData.vehicleData">{{ shopData.vehicleData.model }}</span>
                                </div>
                            </div>
                            <div class="dyno-content">
                                <div class="dyno-chart-container" style="background: rgba(0,0,0,0.3); border-radius: 10px; padding: 20px;">
                                    <svg viewBox="0 0 300 200" class="dyno-graph" style="width:100%; height:auto;">
                                        <line x1="0" y1="50" x2="300" y2="50" stroke="#333" stroke-width="1" />
                                        <line x1="0" y1="100" x2="300" y2="100" stroke="#333" stroke-width="1" />
                                        <line x1="0" y1="150" x2="300" y2="150" stroke="#333" stroke-width="1" />
                                        <polyline :points="dynoPoints" fill="none" stroke="#00a3ff" stroke-width="3" />
                                    </svg>
                                    <div class="chart-labels d-flex justify-content-between text-secondary mt-2" style="font-size: 12px;">
                                        <span>0 RPM</span>
                                        <span>RPM MÁX</span>
                                    </div>
                                </div>
                                <div class="dyno-stats-grid mt-3" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; text-align: center;">
                                    <div class="stat-box p-3" style="background: rgba(255,255,255,0.05); border-radius: 8px;">
                                        <div class="stat-label text-secondary">Velocidad Punta</div>
                                        <div class="stat-value text-white font-bold">{{ shopData.dynoData ? shopData.dynoData.maxSpeed : 0 }} km/h</div>
                                    </div>
                                    <div class="stat-box p-3" style="background: rgba(255,255,255,0.05); border-radius: 8px;">
                                        <div class="stat-label text-secondary">Aceleración</div>
                                        <div class="stat-value text-white font-bold">{{ shopData.dynoData ? shopData.dynoData.acceleration : 0 }}</div>
                                    </div>
                                    <div class="stat-box p-3" style="background: rgba(255,255,255,0.05); border-radius: 8px;">
                                        <div class="stat-label text-secondary">Potencia</div>
                                        <div class="stat-value text-white font-bold">{{ shopData.dynoData ? shopData.dynoData.force : 0 }} HP</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </main>
                </div>
            </div>
        </div>
    </transition>

    <transition name="slide-up">
        <div id="install-progress-ui" v-if="installProgress.active" class="active">
            <div class="install-header">
                <h2><i class="fas fa-tools fa-spin me-2"></i> {{ installProgress.completed ? 'Instalación Completada' : 'Instalando' }}</h2>
                <p>{{ installProgress.text }}</p>
            </div>
            <div class="progress-bar-container">
                <div class="progress-bar-fill" :style="{width: installProgress.percentage + '%', background: installProgress.completed ? '#10b981' : ''}">
                    <span v-if="!installProgress.completed">{{ installProgress.step }} / {{ installProgress.total }}</span>
                    <span v-else><i class="fas fa-check"></i></span>
                </div>
            </div>
            <div class="current-mod mt-3">
                <strong>Detalle:</strong>
                <span style="color: #00a3ff;">{{ installProgress.currentMod }}</span>
            </div>
            <div class="install-footer mt-3">
                <small class="text-warning"><i class="fas fa-exclamation-triangle"></i> No muevas el vehículo</small>
            </div>
        </div>
    </transition>

    <div id="radial-ui" :class="{show: radialOptions.length > 0}">
        <div class="hexagon-circle">
            <div class="hexagon-close" @click="closeRadial">
                <div class="hexagon-close-button"><i class="fas fa-times hexagon-close-icon"></i></div>
            </div>
            <div v-for="(opt, index) in radialOptions" :key="index" 
                 class="hexagon" 
                 :class="'hex-' + (index + 1)"
                 @click="handleRadialClick(opt)">
                <div class="hexagon-button">
                    <div class="hexagon-content">
                        <div class="hexagon-icon-container"><i :class="'fas ' + opt.icon + ' hexagon-icon'"></i></div>
                        <div class="hexagon-title">{{ opt.label }}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="carlift-ui" v-if="carliftUI.visible" style="display: block;"> <div id="carlift-img-container" class="show">
            <img src="assets/carlift.png" alt="Remote">
            <div id="carlift-up" @click="post('carliftAction', {action: 'up'})" title="Subir"></div>
            <div id="carlift-down" @click="post('carliftAction', {action: 'down'})" title="Bajar"></div>
            <div id="carlift-freeze" @click="post('carliftAction', {action: 'stop'})" title="Parar"></div>
        </div>
        <button class="carlift-close" style="position:fixed; top:50%; left:340px; transform:translateY(-50%); z-index:2005;" @click="closeUI">
            <i class="fas fa-times"></i>
        </button>
    </div>

</div> <script src="js/app.js"></script>

</body>
</html>